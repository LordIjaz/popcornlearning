<!DOCTYPE html>
<html lang="en">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3262030914719528"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popcorn Learning - Home</title>

    <style>
/* Base Styles */
body {
    font-family: 'Arial', sans-serif;
    background-color: black;
    color: white;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
}

/* Header */
header {
    background: linear-gradient(45deg, #007BFF, #F0C808);
    padding: 20px 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 10;
    box-sizing: border-box;
}

header h1 {
    font-size: 36px;
    color: white;
    letter-spacing: 2px;
    text-transform: uppercase;
}

header .nav-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
}

header .nav-links a {
    color: white;
    text-decoration: none;
    font-size: 18px;
    text-transform: uppercase;
    font-weight: bold;
    transition: color 0.3s ease;
}

header .nav-links a:hover {
    color: #F0C808;
}

/* Main Content */
.main-content {
    margin-top: 120px;
    text-align: center;
    padding: 100px 20px;
    background: linear-gradient(45deg, #1f1f1f, #333);
    box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.5);
}

.main-content h2 {
    font-size: 48px;
    margin-bottom: 20px;
    color: #F0C808;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.main-content p {
    font-size: 20px;
    line-height: 1.6;
    margin-bottom: 30px;
    color: #D1D1D1;
}

/* Button */
.button {
    background-color: #F0C808;
    color: black;
    padding: 15px 30px;
    text-decoration: none;
    border-radius: 50px;
    font-size: 20px;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

.button:hover {
    background-color: #C79200;
    transform: scale(1.05);
}

/* Features Section */
.features {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 50px;
}

.feature-box {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid #007BFF;
    border-radius: 15px;
    padding: 40px;
    text-align: center;
    color: white;
    width: 250px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature-box:hover {
    transform: translateY(-10px);
    box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.6);
}

.feature-box h3 {
    font-size: 24px;
    margin-bottom: 15px;
    color: #F0C808;
}

.feature-box p {
    font-size: 18px;
}

/* Footer */
footer {
    background-color: #333;
    text-align: center;
    padding: 20px;
    color: white;
}

/* Responsive Design */
@media (max-width: 768px) {
    header {
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 15px 20px;
    }

    header h1 {
        font-size: 28px;
        margin-bottom: 10px;
    }

    .nav-links {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .nav-links a {
        font-size: 16px;
    }

    .features {
        flex-direction: column;
        align-items: center;
        gap: 30px;
        padding: 0 20px;
    }

    .feature-box {
        width: 90%;
        max-width: 300px;
    }

    .main-content {
        padding: 80px 20px;
    }

    .main-content h2 {
        font-size: 36px;
    }

    .main-content p {
        font-size: 18px;
    }

    .button {
        font-size: 18px;
        padding: 12px 25px;
    }
}

/* Double XP Event Text */
.double-xp-event {
    text-align: center;
    font-size: 40px;
    font-weight: bold;
    color: #00ffff;
    -webkit-text-stroke: 0.8px black; /* Crisp outline */
    text-shadow:
        0 0 5px #00ffff,
        0 0 10px #00ffff,
        0 0 15px #00ffff,
        0 0 20px #00ffff;
    animation: colourChange 4s infinite linear, floatEffect 3s ease-in-out infinite;
    margin: 40px 0 20px 0;
}

/* Animations */
@keyframes colourChange {
    0% {
        color: #00ffff;
        text-shadow: 0 0 5px #00ffff, 0 0 10px #00ffff, 0 0 15px #00ffff, 0 0 20px #00ffff;
    }
    25% {
        color: #ff00ff;
        text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 15px #ff00ff, 0 0 20px #ff00ff;
    }
    50% {
        color: #ffff00;
        text-shadow: 0 0 5px #ffff00, 0 0 10px #ffff00, 0 0 15px #ffff00, 0 0 20px #ffff00;
    }
    75% {
        color: #ff0000;
        text-shadow: 0 0 5px #ff0000, 0 0 10px #ff0000, 0 0 15px #ff0000, 0 0 20px #ff0000;
    }
    100% {
        color: #00ffff;
        text-shadow: 0 0 5px #00ffff, 0 0 10px #00ffff, 0 0 15px #00ffff, 0 0 20px #00ffff;
    }
}

@keyframes floatEffect {
    0%, 100% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(0, -8px, 0);
    }
}
</style>
<style>
.designed-by {
    text-align: center;
    font-size: 28px;
    font-weight: 600;
    color: #e5c100; /* Soft Gold */
    -webkit-text-stroke: 0.5px black; /* Gentle outline */
    text-shadow:
        0 0 4px #e5c100,
        0 0 8px #e5c100,
        0 0 12px #e5c100;
    animation:
        luxuryGlow 10s infinite alternate,
        fadeIn 2s ease forwards;
    opacity: 0; /* Start invisible */
    margin: 40px 0 20px 0;
    letter-spacing: 1px;
    font-family: 'Arial', sans-serif;
}

/* Glow colour change */
@keyframes luxuryGlow {
    0% {
        color: #e5c100; /* Soft Gold */
        text-shadow: 0 0 4px #e5c100, 0 0 8px #e5c100, 0 0 12px #e5c100;
    }
    33% {
        color: #8ab6ff; /* Royal Blue */
        text-shadow: 0 0 4px #8ab6ff, 0 0 8px #8ab6ff, 0 0 12px #8ab6ff;
    }
    66% {
        color: #d0d0d0; /* Platinum */
        text-shadow: 0 0 4px #d0d0d0, 0 0 8px #d0d0d0, 0 0 12px #d0d0d0;
    }
    100% {
        color: #e5c100;
        text-shadow: 0 0 4px #e5c100, 0 0 8px #e5c100, 0 0 12px #e5c100;
    }
}

/* Fade-in effect */
@keyframes fadeIn {
    to {
        opacity: 1;
    }
}
</style>

</head>
<body>
<header> <div class="double-xp-event">DOUBLE XP EVENT - RANKED</div>
</header>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
    apiKey: "AIzaSyBNNcj4L1h0M0_Q8PFaE-Up-hyKMxnMvGY",
    authDomain: "popcornlearning-332a5.firebaseapp.com",
    projectId: "popcornlearning-332a5",
    storageBucket: "popcornlearning-332a5.firebasestorage.app",
    messagingSenderId: "923654716319",
    appId: "1:923654716319:web:ceb873f28914652b6d1baa"
  };


  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);
  const realDb = getDatabase(app, 'https://popcornlearning-332a5-default-rtdb.europe-west1.firebasedatabase.app'); // Corrected URL

  const welcomeEl = document.getElementById("welcomeMessage");
  const userStatsEl = document.getElementById("userStats");

  // Function to determine the rank title based on XP
  function getRankTitle(xp) {
    if (xp >= 30000) return 'Unreal';
    if (xp >= 25000) return 'Champion';
    if (xp >= 20000) return 'Elite';
    if (xp >= 16000) return 'Diamond I';
    if (xp >= 13000) return 'Diamond II';
    if (xp >=10000) return 'Diamond III';
    if (xp >= 7750) return 'Platinum I';
    if (xp >= 6000) return 'Platinum II';
    if (xp >= 4000) return 'Platinum III';
    if (xp >= 2100) return 'Gold I';
    if (xp >= 1600) return 'Gold II';
    if (xp >= 1200) return 'Gold III';
    if (xp >= 900) return 'Silver I';
    if (xp >= 600) return 'Silver II';
    if (xp >= 400) return 'Silver III';
    if (xp >= 150) return 'Bronze I';
    if (xp >= 100) return 'Bronze II';
    return 'Bronze III';
  }

  onAuthStateChanged(auth, async (user) => {
    if (user) {
      try {
        const userRef = doc(db, "users", user.uid);
        const userSnap = await getDoc(userRef);
        const leaderboardRef = ref(realDb, 'challengeUsers/' + userSnap.data().username);  // Use username instead of uid
        const leaderboardSnap = await get(leaderboardRef);

        console.log("User Data Snapshot:", userSnap.data()); // Debug Firestore user data
        console.log("Leaderboard Snapshot:", leaderboardSnap.val()); // Debug Realtime Database data

        if (userSnap.exists()) {
          const username = userSnap.data().username;
          welcomeEl.textContent = `Welcome back, ${username}!`;

          if (leaderboardSnap.exists()) {
            const xp = leaderboardSnap.val().xp;
            console.log("XP retrieved:", xp);  // Debug XP value
            const rank = getRankTitle(xp);
            userStatsEl.innerHTML = `XP: ${xp} | Rank: ${rank}`;
          } else {
            // Handle the case where leaderboard data is missing
            console.log("No leaderboard data found for this user.");
            userStatsEl.innerHTML = "XP and Rank: Data not available.";
          }
        } else {
          welcomeEl.textContent = "Welcome!";
        }
      } catch (error) {
        console.error("Error fetching user data:", error);
        welcomeEl.textContent = "Error loading user data!";
        userStatsEl.innerHTML = "Error fetching stats.";
      }
    } else {
      window.location.href = "login.html";
    }
  });
</script>





<header>
    <h1>Popcorn Learning</h1>
    <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="courses.html">Courses</a>
        <a href="membership.html">Membership</a>
    </div>
</header>

<div class="main-content">
    <div class="double-xp-event">Double XP Event Now Live!</div>
    <h2 id="welcomeMessage">Welcome to Popcorn Learning!</h2>
    <p id="userStats">Loading your stats...</p>
    <p>We provide interactive and fun learning experiences designed to keep you engaged and motivated. Explore our courses and join a community of learners!</p>
    <a href="courses.html" class="button">Start Learning Now</a>
</div>

<div class="features">
    <div class="feature-box">
        <h3>Interactive Courses</h3>
        <p>Our courses are designed to be fun and interactive, keeping you engaged while you learn!</p>
    </div>
    <div class="feature-box">
        <h3>Gamified Learning</h3>
        <p>Earn points, level up, and compete in challenges to make your learning experience enjoyable!</p>
    </div>
    <div class="feature-box">
        <h3>Real-time Progress</h3>
        <p>Track your progress as you move through each lesson and see how you're improving!</p>
    </div>
</div>
<footer>
  <nav>
    <ul>
      <li><a href="/privacypolicy.html">Privacy Policy</a></li>
      <!-- Add other footer links here if needed -->
    </ul>
  </nav>
</footer>
<footer>
Welcome to Popcorn Learning — an interactive educational platform designed to make learning fun, fast, and rewarding for students of all ages. Our homepage introduces users to Professor Pop, our playful mascot, and features easy navigation to exciting games, core subject challenges, and brain-boosting activities. With a bright, colourful interface and gamified elements like points and leaderboards, students stay engaged while mastering topics from maths to science. Whether you're revising for school or exploring new topics, Popcorn Learning makes progress feel like play. Get started by choosing a course or jumping straight into a fun learning game — all in one click.
</footer>

<footer>
    <p>&copy; 2025 Popcorn Learning. All rights reserved.</p>
</footer>
<div class="designed-by">Designed and Developed by Isa Ijaz</div>
<div class="hall-of-fame-description"></div> 
</body>
</html>






